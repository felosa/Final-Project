(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){},33:function(e,t,a){e.exports=a(75)},38:function(e,t,a){},39:function(e,t,a){},59:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),c=a.n(l),s=(a(38),a(1)),i=a(2),o=a(4),u=a(3),m=a(5),h=(a(39),a(15)),p=a(14),d=a.n(p),g=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e,a,n,r,l,c,s,i){return t.service.post("/auth/signup",{username:e,password:a,imageUrl:n,lang:r,country:l,description:c,genre:s,year:i}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.handleUpload=function(e){return t.service.post("/upload",e).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.login=function(e,a){return t.service.post("/auth/login",{username:e,password:a}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.editProfile=function(e,a,n,r,l,c){return console.log(e,a,n,r,l,c),t.service.post("/auth/edit/".concat(c,'"'),{lang:e,country:a,description:n,genre:r,year:l}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.loggedin=function(){return t.service.get("/auth/currentUser").then(function(e){return e.data})},this.logout=function(){return t.service.get("/auth/logout",{}).then(function(e){return e.data})},this.service=d.a.create({baseURL:"".concat("https://travelershare.herokuapp.com/api"),withCredentials:!0})},v=a(6),E=a(8),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.state={username:"",password:"",loggedInUser:null},a.service=new g,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.username,n=this.state.password;this.service.login(a,n).then(function(e){console.log(e,"saca usuario"),t.setState({username:a,password:n,loggedInUser:!0},function(){return t.props.setUser(e)})}).catch(function(e){t.setState({username:"",password:""})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"navbar-item"},r.a.createElement("form",{className:"Flex",onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("div",null,r.a.createElement("input",{className:"myButtonLog",type:"submit",value:"Login"}))))}}]),t}(n.Component),f=(a(59),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).logoutUser=function(){a.service.logout().then(function(){a.setState({loggedInUser:null}),a.props.setUser(null),console.log("quita usuario")})},a.state={username:"",password:"",error:"",loggedInUser:null},a.service=new g,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.loggedInUser),this.props.loggedInUser?r.a.createElement("div",{className:"backNav Flex"},r.a.createElement("div",{className:"textCenter marginNav"},r.a.createElement("p",null,"Welcome again, ",this.props.loggedInUser.username),r.a.createElement(v.b,{className:"textCenter",to:"/profile"},r.a.createElement("span",null,"My profile"))),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"imgProfNav"},r.a.createElement("img",{className:"imgProfNav",alt:"",src:this.props.loggedInUser.imageUrl})),r.a.createElement(v.b,{to:"/"},r.a.createElement("button",{className:"myButton",onClick:function(){return e.logoutUser()}},"Logout")))):r.a.createElement("div",{className:" container navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement(b,{loggedInUser:this.props.loggedInUser,setUser:this.props.setUser})))}}]),t}(n.Component)),y=(a(68),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container whiteLetter containerPresentation"},r.a.createElement("br",null),r.a.createElement("p",{className:"containerPres"},"+ Share your plans or join a pre-existing plan"),r.a.createElement("p",{className:"containerPres"},"+ To get the most out of your traveling experiences"))}}]),t}(n.Component)),O=a(7),j=(a(69),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,l=t.imageUrl,c=t.lang,s=t.country,i=t.description,o=t.genre,u=t.year;console.log(n,r),a.service.signup(n,r,l,c,s,i,o,u).then(function(){console.log(n),a.setState({username:"",password:"",lang:"",country:"",description:"",genre:"",imageUrl:"",year:"",redirect:!0})}).catch(function(e){return console.log(e)})},a.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageUrl",e.target.files[0]),a.service.handleUpload(t).then(function(e){a.setState({imageUrl:e.secure_url})}).catch(function(e){console.log("Error while uploading the file: ",e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(O.a)({},a.state,Object(E.a)({},n,r)))},a.state={username:"",password:"",lang:"",country:"",description:"",genre:"",year:"",imageUrl:"",redirect:!1},a.service=new g,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(h.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"formStyle formSignup whiteLetter"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form"},r.a.createElement("h2",null,"Signup now"),r.a.createElement("label",null,"Username:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Password:  "),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Country of origin:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"country",value:this.state.country,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Personal Description:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Upload your photo:"),r.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Signup"}))))}}]),t}(n.Component)),U=(a(70),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"plane"},r.a.createElement("br",null),r.a.createElement("h2",{className:"textCenter whiteLetter sizePresentation"},"Welcome to TravelShare"),r.a.createElement("br",null),r.a.createElement("p",{className:"textCenter whiteLetter sizePresentation"},"The new and safe online platform dedicated to bringing together fellow travelers."),r.a.createElement("div",{className:"doFlex"},r.a.createElement(y,null),r.a.createElement(j,{className:"margincenterL"})))}}]),t}(n.Component)),C=(a(71),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={loggedInUser:null},a.service=new g,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.loggedin().then(function(t){return e.setState({loggedInUser:t})})}},{key:"render",value:function(){return console.log(this.state.loggedInUser),this.state.loggedInUser&&r.a.createElement("div",{className:"container textCenter"},r.a.createElement("div",{className:""},r.a.createElement("h2",{className:"paddingTop"},r.a.createElement("span",{className:"titles"},r.a.createElement("b",null,"Hello, this is your profile ",this.state.loggedInUser.username))),r.a.createElement("div",{className:"paddingTop"},r.a.createElement("img",{className:"imgProfileIntro",alt:"",src:this.state.loggedInUser.imageUrl})),r.a.createElement("br",null),r.a.createElement("span",null,"Languages spoken: ",this.state.loggedInUser.lang),r.a.createElement("br",null),r.a.createElement("span",null,"Country: ",this.state.loggedInUser.country),r.a.createElement("br",null),r.a.createElement("span",null,"This is your description: ",this.state.loggedInUser.description),r.a.createElement("br",null)))}}]),t}(n.Component)),N=function e(){var t=this;Object(s.a)(this,e),this.getAllTravels=function(){return t.service.get("/travel/:id/all",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.handleUpload=function(e){return t.service.post("/upload",e).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.getOneTravel=function(e){return console.log(e),t.service.get("/travel/".concat(e)).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.createNewTravel=function(e,a,n,r,l,c,s,i,o){return t.service.post("/travel/new",{name:e,city:a,country:n,description:r,imageUrl:l,author:c,plans:s,minDate:i,maxDate:o}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.deleteTravel=function(){return t.service.delete("/travel/delete/:id",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.editTravel=function(e,a){return console.log(e,a),t.service.patch("/travel/edit/".concat(a),{planId:e}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.service=d.a.create({baseURL:"".concat("https://travelershare.herokuapp.com/api"),withCredentials:!0})},w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={travel:{name:"",city:"",country:"",description:"",imgPath:"",author:"",plans:"",redirect:!1},travels:[]},a.service=new N,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.loggedInUser&&r.a.createElement("div",{className:"container textCenter"},r.a.createElement("p",{className:"titles"},r.a.createElement("span",null,r.a.createElement("b",null,this.props.loggedInUser.username,"'s Trip List"))),r.a.createElement("br",null),r.a.createElement(v.b,{to:"/newtravel"},r.a.createElement("button",null,"New Trip")),this.props.loggedInUser.travels?r.a.createElement("div",null,this.props.loggedInUser.travels.map(function(e){return r.a.createElement("div",null,r.a.createElement("img",{className:"imgTravel",alt:"",src:e.imageUrl}),r.a.createElement("h2",null,"Trip Name:"),r.a.createElement(v.b,{actualtravel:e,to:"/travel/".concat(e._id)},r.a.createElement("p",null,e.name)),r.a.createElement("p",null,"Country:"),r.a.createElement("p",null,e.country),r.a.createElement("p",null,"City:"),r.a.createElement("p",null,e.city),r.a.createElement("hr",null))})):r.a.createElement("span",null,"No hay viajes"))}}]),t}(n.Component),D=(a(29),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).service=new g,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.loggedin().then(function(t){e.props.setUser(t)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"doFlex background"},r.a.createElement(C,null),r.a.createElement(w,{className:"margincenterL",loggedInUser:this.props.loggedInUser}))}}]),t}(n.Component)),I=function e(){var t=this;Object(s.a)(this,e),this.getAllPlans=function(){return t.service.get("/plan/all",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.getAllPlansWithInDates=function(e,a){return console.log(e,a),t.service.get("/plan/filtered/".concat(e,"/").concat(a),{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.handleUpload=function(e){return t.service.post("/upload",e).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.selectedPlans=function(){return t.service.get("/plan/:id/plansoftravel").then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.getOnePlan=function(e){return t.service.get("/plan/one/".concat(e)).then(function(e){return console.log("heyyyyyyyyyy   hhhhhhhhhh"),e.data}).catch(function(e){return console.error(e)})},this.createNewPlan=function(e,a,n,r,l,c,s,i,o,u,m,h){return t.service.post("/plan/".concat(h,"/new"),{name:e,city:a,date:n,type:r,description:l,lang:c,genre:s,hour:i,maxYear:o,place:u,imageUrl:m}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.deletePlan=function(){return t.service.delete("/plan/delete/:id",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.editPlan=function(e){return console.log(e),t.service.put("/plan/".concat(e,"/edit"),{id:e}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.service=d.a.create({baseURL:"".concat("https://travelershare.herokuapp.com/api"),withCredentials:!0})},x=function(e){var t=new Date(e);return"".concat(t.getDate(),"-").concat(t.getMonth(),"-").concat(t.getFullYear())},S=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("didmount de travel")}},{key:"render",value:function(){console.log(this.props.travel,"travelllllllll");var e=x(this.props.travel.minDate),t=x(this.props.travel.maxDate);return r.a.createElement("div",{className:"container toRight"},r.a.createElement("p",{className:"sizeTravel"},"Description of my current trip:"),r.a.createElement("br",null),this.props.travel&&this.props.travel.plans&&r.a.createElement("div",null,r.a.createElement("img",{className:"imgPlan",alt:"",src:this.props.travel.imageUrl}),r.a.createElement("h2",null,"Travel name: ",this.props.travel.name),r.a.createElement("h3",null,"Country: ",this.props.travel.country),r.a.createElement("h3",null,"City: ",this.props.travel.city),r.a.createElement("h3",null,"Arrive day: ",e),r.a.createElement("h3",null,"Leave day: ",t),r.a.createElement("h3",null,"Description: ",this.props.travel.description),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h3",{className:"sizeTravel"},"Current travel plans:"),r.a.createElement("br",null),r.a.createElement("div",null,this.props.travel.plans.map(function(e){return r.a.createElement("div",{className:"Flex"},r.a.createElement("div",null,r.a.createElement("img",{className:"imgPlan",alt:"",src:e.imageUrl})),r.a.createElement("div",null,r.a.createElement(v.b,{actualplan:e,to:"/plan/".concat(e._id)},r.a.createElement("p",null,e.name)),r.a.createElement("p",null,"Date: ",x(e.date)),r.a.createElement("p",null,"Hour: ",e.hour),r.a.createElement("p",null,"Place: ",e.place)))}))),r.a.createElement(v.b,{travel:this.props.travel.id,to:"/newplan/".concat(this.props.travel._id)},r.a.createElement("button",null,"New Plan")))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).addPlan=function(e){var t=a.props.plan.id;a.travelService.editTravel(t,e)},a.state={plan:null,redirect:!1},a.service=new I,a.travelService=new N,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.plan.id;this.service.getOnePlan(t).then(function(t){e.setState(Object(O.a)({},e.state,{plan:t}))})}},{key:"render",value:function(){var e=this;if(this.props.loggedInUser)return r.a.createElement("div",{className:"container toRight"},r.a.createElement("p",{className:"sizeTravel"},r.a.createElement("b",null,"Plan Details")),r.a.createElement("br",null),this.state.plan&&r.a.createElement("div",null,r.a.createElement("h2",null,this.state.plan.name),r.a.createElement("h3",null,this.state.plan.city),r.a.createElement("h2",null,x(this.state.plan.date)),r.a.createElement("h3",null,this.state.plan.description),r.a.createElement("br",null),r.a.createElement("h2",{className:"sizeTravel"},r.a.createElement("b",null,"Author of the plan")),r.a.createElement("h3",null,this.state.plan.author.username),r.a.createElement("br",null),r.a.createElement("h3",{className:"sizeTravel"},r.a.createElement("b",null,"Participants:")),r.a.createElement("div",null,this.state.plan.participants.map(function(e){return r.a.createElement("div",null,r.a.createElement("p",null,e.username))}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"sizeTravel"},r.a.createElement("b",null,"You can add your plan to one of the following Trips")),this.props.loggedInUser.travels&&this.state.plan&&this.props.loggedInUser.travels.filter(function(t){return t.city.toLowerCase()===e.state.plan.city.toLowerCase()&&e.state.plan.date>=t.minDate&&e.state.plan.date<=t.maxDate}).map(function(t){return r.a.createElement("div",null,r.a.createElement(v.b,{to:"/profile"},r.a.createElement("button",{onClick:function(){return e.addPlan(t._id)}},r.a.createElement("b",null,"Add the plan to this trip:")," ",r.a.createElement("span",null,t.name))))}))}}]),t}(n.Component),P=function e(){var t=this;Object(s.a)(this,e),this.createNewComment=function(e,a){return t.service.post("/".concat(a,"/new"),{message:e,id:a}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.service=d.a.create({baseURL:"".concat("https://travelershare.herokuapp.com/api","/comment"),withCredentials:!0})},T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.message;console.log(a.props.plan);var n=a.props.plan.id;a.service.createNewComment(t,n).then(function(e){a.setState({message:"",plan:e})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(O.a)({},a.state,Object(E.a)({},n,r)))},a.state={message:"",plan:""},a.service=new P,a.servicePlan=new I,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.plan.id;this.servicePlan.getOnePlan(t).then(function(t){e.setState(Object(O.a)({},e.state,{plan:t}))})}},{key:"render",value:function(){var e=this;return console.log(this.state.plan.comments),r.a.createElement("div",{className:"container"},r.a.createElement("p",null,r.a.createElement("b",null,"Plan Chat")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form"},r.a.createElement("label",null,"Write something:"),r.a.createElement("input",{type:"text",name:"message",value:this.state.message,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Send comment"})),r.a.createElement("br",null),r.a.createElement("br",null),this.state.plan?r.a.createElement("div",null,this.state.plan.comments.map(function(e,t){return r.a.createElement("div",null,r.a.createElement("div",{className:"Flex"},r.a.createElement("img",{className:"chatImg",alt:"",src:e.authorPhoto}),r.a.createElement("p",null,r.a.createElement("b",null,e.author))),r.a.createElement("p",{className:"comments"},e.message))})):r.a.createElement("div",null,r.a.createElement("p",null,"no hay comentarios")))}}]),t}(n.Component),F=(a(72),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"doFlex background"},r.a.createElement(k,{loggedInUser:this.props.loggedInUser,plan:this.props.match.params}),r.a.createElement(T,{className:"margincenterL",loggedInUser:this.props.loggedInUser,plan:this.props.match.params}))}}]),t}(n.Component)),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault(),console.log(a.state.minDate_date,a.state.maxDate_date),a.service.getAllPlansWithInDates(a.state.minDate_date,a.state.maxDate_date).then(function(e){var t=e.filter(function(e){return e.city.toLowerCase()===a.props.city.toLowerCase()});a.setState({redirect:!0,plansAll:t})}).catch(function(e){return console.log(e)})},a.handleChangeAsDate=function(e){var t,n=e.target,r=n.name,l=n.value;a.setState(Object(O.a)({},a.state,(t={},Object(E.a)(t,r,l),Object(E.a)(t,r+"_date",new Date(l)),t)))},a.state={minDate_date:null,maxDate_date:null,plansAll:null,plansSelected:null},a.service=new I,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.getAllPlans().then(function(t){var a=t.filter(function(t){return t.city.toLowerCase()===e.props.city.toLowerCase()});e.setState(Object(O.a)({},e.state,{plansAll:a}))})}},{key:"render",value:function(){var e=this;return this.state.plansAll&&r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Lista de planes"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form"},r.a.createElement("label",null,"Arrive Date:"),r.a.createElement("input",{type:"date",name:"minDate",value:this.state.minDate,onChange:function(t){return e.handleChangeAsDate(t)}}),r.a.createElement("label",null,"Leave Date:"),r.a.createElement("input",{type:"date",name:"maxDate",value:this.state.maxDate,onChange:function(t){return e.handleChangeAsDate(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Search"})),r.a.createElement("div",{className:"doitFlex doList"},this.state.plansAll.map(function(e,t){return r.a.createElement("div",{className:"width200"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{className:"imgPlan",src:e.imageUrl,alt:""})),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-left"}),r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"}," ",r.a.createElement(v.b,{actualplan:e,to:"/plan/".concat(e._id)}," ",r.a.createElement("p",null,e.name))),r.a.createElement("p",{className:"subtitle is-6"},r.a.createElement("h3",null,"Date: ",x(e.date))),r.a.createElement("p",{className:"subtitle is-6"},r.a.createElement("h3",null,"City: ",e.city)),r.a.createElement("p",{className:"subtitle is-6"},r.a.createElement("h3",null,"Hour: ",e.hour)))),r.a.createElement("div",{className:"content"},"Description: ",e.description,r.a.createElement("br",null))))})))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={travel:null,redirect:!1},a.service=new N,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.service.getOneTravel(t).then(function(t){e.setState(Object(O.a)({},e.state,{travel:t}))})}},{key:"render",value:function(){return this.state.travel&&r.a.createElement("div",{className:"doFlex background"},r.a.createElement(S,{className:"container",travel:this.state.travel}),r.a.createElement(L,{city:this.state.travel.city,className:"container margincenterL"}))}}]),t}(n.Component),_=(a(73),n.Component,function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"plane"},r.a.createElement("h2",{className:"textCenter paddingTop whiteLetter sizePresentation"},"Welcome!"),r.a.createElement("br",null),r.a.createElement("h2",{className:"textCenter whiteLetter sizePresentation"},"Now you are ready to start organising your own Travels"))}}]),t}(n.Component)),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.city,l=t.country,c=t.description,s=t.imageUrl,i=t.author,o=t.plans,u=t.minDate_date,m=t.maxDate_date;console.log(n),a.service.createNewTravel(n,r,l,c,s,i,o,u,m).then(function(e){a.setState({name:"",city:"",country:"",description:"",imageUrl:"",author:"",plans:"",minDate:"",maxDate:"",minDate_date:"",maxDate_date:"",redirect:!0})}).catch(function(e){return console.log(e)})},a.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageUrl",e.target.files[0]),a.service.handleUpload(t).then(function(e){a.setState({imageUrl:e.secure_url})}).catch(function(e){console.log("Error while uploading the file: ",e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(O.a)({},a.state,Object(E.a)({},n,r)))},a.handleChangeAsDate=function(e){var t,n=e.target,r=n.name,l=n.value;a.setState(Object(O.a)({},a.state,(t={},Object(E.a)(t,r,l),Object(E.a)(t,r+"_date",new Date(l)),t)))},a.state={name:"",city:"",country:"",description:"",imageUrl:"",author:"",plans:"",minDate:"",maxDate:"",redirect:!1},a.service=new N,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(h.a,{to:"/profile"}):r.a.createElement("div",{className:"container heigthMax"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form"},r.a.createElement("label",null,"Travel Name:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"City:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"city",value:this.state.city,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Country:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"country",value:this.state.country,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Description:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Arrive Date:"),r.a.createElement("br",null),r.a.createElement("input",{type:"date",name:"minDate",value:this.state.minDate,onChange:function(t){return e.handleChangeAsDate(t)}}),r.a.createElement("br",null),r.a.createElement("label",null," Date:"),r.a.createElement("br",null),r.a.createElement("input",{type:"date",name:"maxDate",value:this.state.maxDate,onChange:function(t){return e.handleChangeAsDate(t)}}),r.a.createElement("br",null),r.a.createElement("label",null," Upload a photo:"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Crear"})))}}]),t}(n.Component),z=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"doFlex background"},r.a.createElement(C,null),r.a.createElement(M,{className:"margincenterL",loggedInUser:this.props.loggedInUser}))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.city,l=t.date_date,c=t.type,s=t.description,i=t.lang,o=t.genre,u=t.hour,m=t.maxYear,h=t.place,p=t.imageUrl;console.log(n);var d=a.props.travel.id;a.service.createNewPlan(n,r,l,c,s,i,o,u,m,h,p,d).then(function(){console.log(n),a.setState({name:"",city:"",date_date:"",type:"",description:"",lang:"",genre:"",hour:"",maxYear:"",place:"",imageUrl:"",redirect:!0})}).catch(function(e){return console.log(e)})},a.handleChangeAsDate=function(e){var t,n=e.target,r=n.name,l=n.value;a.setState(Object(O.a)({},a.state,(t={},Object(E.a)(t,r,l),Object(E.a)(t,r+"_date",new Date(l)),t)))},a.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageUrl",e.target.files[0]),a.service.handleUpload(t).then(function(e){a.setState({imageUrl:e.secure_url})}).catch(function(e){console.log("Error while uploading the file: ",e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(O.a)({},a.state.user,Object(E.a)({},n,r)))},a.state={name:"",city:"",date:"",type:"",description:"",imageUrl:"",lang:"",genre:"",hour:"",maxYear:"",place:"",redirect:!1},a.service=new I,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(h.a,{to:"/travel/".concat(this.props.travel.id)}):r.a.createElement("div",{className:"container toRight"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form"},r.a.createElement("label",null,"Plan Name:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"City:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"city",value:this.state.city,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Description:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Time:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"hour",value:this.state.hour,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Place:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"place",value:this.state.place,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Date:"),r.a.createElement("br",null),r.a.createElement("input",{type:"date",name:"date",value:this.state.date,onChange:function(t){return e.handleChangeAsDate(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Upload your photo:"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Add Plan"})))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={travel:null,redirect:!1},a.service=new N,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.service.getOneTravel(t).then(function(t){e.setState(Object(O.a)({},e.state,{travel:t}))})}},{key:"render",value:function(){return console.log(this.props.match.params),this.state.travel&&r.a.createElement("div",{className:"doFlex background"},r.a.createElement(S,{travel:this.state.travel}),r.a.createElement(W,{className:"margincenterL",travel:this.props.match.params}))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){console.log(a.state.username),e.preventDefault();var t=a.state.movie,n=t.lang,r=t.country,l=t.description,c=t.genre,s=t.year,i=a.props.match.params._id;a.api.editProfile(n,r,l,c,s,i).then(function(){a.setState({redirect:!0,lang:"",country:"",description:"",genre:"",year:""})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,l=Object(O.a)({},a.state.movie);l[n]=r,a.setState(Object(O.a)({},a.state,{user:l}))},a.state={user:{username:"",password:"",lang:"",country:"",description:"",genre:"",year:"",redirect:!1}},a.service=new g,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.loggedin(this.props.match.params._id).then(function(t){console.log(t,"did"),e.setState(Object(O.a)({},e.state,{user:t,redirect:!1}))})}},{key:"render",value:function(){var e=this;return this.props.loggedInUser?r.a.createElement(h.a,{to:"/profile"}):(console.log(this.state.user,"editar"),this.state.user&&r.a.createElement("div",{className:"container"},'lang: "", country: "", description:"", genre: "", year: "",',r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",{for:"lang"},"Languaje:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"lang",value:this.state.user.lang,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"country"},"Country:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"country",value:this.state.user.country,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"description"},"Description:"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"description",value:this.state.user.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"genre"},"Genre:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"genre",value:this.state.user.genre,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"year"},"Year:"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"year",value:this.state.user.year,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"EDIT"}))))}}]),t}(n.Component),B=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y,{className:"container",loggedInUser:this.props.loggedInUser}),r.a.createElement(w,{className:"container margincenterL",loggedInUser:this.props.loggedInUser}))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).fetchUser=function(){a.service.loggedin().then(function(e){console.log(e),a.setState({loggedInUser:e})}).catch(function(e){return a.setState({loggedInUser:!1})})},a.setTheUser=function(e){console.log("entra"),a.setState({loggedInUser:e})},a.state={loggedInUser:"null"},a.service=new g,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return console.log(this.state.loggedInUser),this.state.loggedInUser?r.a.createElement("div",{className:"marginApp background"},r.a.createElement(f,{loggedInUser:this.state.loggedInUser,setUser:this.setTheUser}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(){return r.a.createElement(_,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(h.b,{exact:!0,path:"/profile",render:function(){return r.a.createElement(D,{loggedInUser:e.state.loggedInUser,setUser:e.setTheUser})}}),r.a.createElement(h.b,{exact:!0,path:"/editprofile",render:function(){return r.a.createElement(B,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(h.b,{exact:!0,path:"/newtravel",render:function(){return r.a.createElement(z,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(h.b,{exact:!0,path:"/newplan/:id",render:function(t){return r.a.createElement(R,Object.assign({},t,e.props,{loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(h.b,{exact:!0,path:"/travel/:id",render:function(t){return r.a.createElement(A,Object.assign({},t,e.props,{loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(h.b,{exact:!0,path:"/plan/:id",render:function(t){return r.a.createElement(F,Object.assign({},t,e.props,{loggedInUser:e.state.loggedInUser}))}}))):r.a.createElement("div",null,r.a.createElement(f,{loggedInUser:this.state.loggedInUser,setUser:this.setTheUser}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(){return r.a.createElement(U,null)}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(74);c.a.render(r.a.createElement(v.a,{className:"backgroundGeneral"},r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.ba895d34.chunk.js.map