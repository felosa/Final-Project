(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(68)},37:function(e,t,n){},38:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(29),c=n.n(l),o=(n(37),n(1)),u=n(2),i=n(4),s=n(3),h=n(5),m=(n(38),n(14)),p=n(15),g=n.n(p),d=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,n,a,r,l,c,o){return t.service.post("/signup",{username:e,password:n,lang:a,country:r,description:l,genre:c,year:o}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.login=function(e,n){return console.log(e,n),t.service.post("/login",{username:e,password:n}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.loggedin=function(){return t.service.get("/currentUser").then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout",{}).then(function(e){return e.data})},this.service=g.a.create({baseURL:"".concat("https://travelershare.herokuapp.com/api","/auth"),withCredentials:!0})},b=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={loggedInUser:null},n.service=new d,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.loggedin().then(function(t){return e.setState({loggedInUser:t})})}},{key:"render",value:function(){return console.log(this.state.loggedInUser),this.state.loggedInUser&&r.a.createElement("div",null,r.a.createElement("div",{className:""},r.a.createElement("img",{alt:"",url:this.state.loggedInUser.username}),r.a.createElement("h2",null,r.a.createElement("span",null,"Hello, this is your profile ",this.state.loggedInUser.username)),r.a.createElement("br",null),r.a.createElement("span",null,"Languajes that I speak: ",this.state.loggedInUser.lang),r.a.createElement("br",null),r.a.createElement("span",null,"Country: ",this.state.loggedInUser.country),r.a.createElement("br",null),r.a.createElement("span",null,"This is your description: ",this.state.loggedInUser.description),r.a.createElement("br",null),r.a.createElement("span",null,"Genre: ",this.state.loggedInUser.genre),r.a.createElement("br",null),r.a.createElement("span",null,"Age: ",this.state.loggedInUser.year)))}}]),t}(a.Component),f=n(9),v=n(13),E=n(6),j=function e(){var t=this;Object(o.a)(this,e),this.getAllTravels=function(){return t.service.get("/:id/all",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.getOneTravels=function(){return t.service.get("/:id/one",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.createNewTravel=function(e,n,a,r,l,c,o){return t.service.post("/new",{name:e,city:n,country:a,description:r,imgPath:l,author:c,plans:o}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.deleteTravel=function(){return t.service.delete("/delete/:id",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.editTravel=function(){return t.service.put("/edit/:id",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.service=g.a.create({baseURL:"".concat("https://travelershare.herokuapp.com/api","/travel"),withCredentials:!0}),console.log("".concat("https://travelershare.herokuapp.com/api","/travel")),console.log(this.service)},y=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.travel,a=t.name,r=t.city,l=t.country,c=t.description,o=t.imgPath,u=t.author,i=t.plans;console.log(a),n.service.signup(a,r,l,c,o,u,i).then(function(){console.log(a),n.setState({name:"",city:"",country:"",description:"",imgPath:"",author:"",plans:"",redirect:!0})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState({user:Object(v.a)({},n.state.user,Object(f.a)({},a,r))})},n.state={travel:{name:"",city:"",country:"",description:"",imgPath:"",author:"",plans:"",redirect:!1}},n.service=new j,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return console.log(this.props,this.props.loggedInUser),this.props.loggedInUser&&r.a.createElement("div",null,r.a.createElement("p",null,"Lista de travels"),r.a.createElement(E.b,{to:"/newtravel"},r.a.createElement("button",null,"New Travel")))}}]),t}(a.Component),O=function(e){function t(e){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return console.log(this.props.loggedInUser),r.a.createElement("div",{className:"bigbox"},r.a.createElement(b,null),r.a.createElement(y,{loggedInUser:this.props.loggedInUser}))}}]),t}(a.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Presentacion"))}}]),t}(a.Component),U=(n(66),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.user,a=t.username,r=t.password,l=t.lang,c=t.country,o=t.description,u=t.genre,i=t.year;console.log(a,r),n.service.signup(a,r,l,c,o,u,i).then(function(){console.log(a),n.setState({username:"",password:"",lang:"",country:"",description:"",genre:"",year:"",redirect:!0})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState({user:Object(v.a)({},n.state.user,Object(f.a)({},a,r))})},n.state={user:{username:"",password:"",lang:"",country:"",description:"",genre:"",year:"",redirect:!1}},n.service=new d,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(m.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Languaje:"),r.a.createElement("input",{type:"text",name:"lang",value:this.state.lang,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Description:"),r.a.createElement("input",{type:"text",name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Country:"),r.a.createElement("input",{type:"text",name:"country",value:this.state.country,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Genre:"),r.a.createElement("input",{type:"text",name:"genre",value:this.state.genre,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Year:"),r.a.createElement("input",{type:"number",name:"year",value:this.state.year,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Signup"})))}}]),t}(a.Component)),w=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bigbox"},r.a.createElement(C,null),r.a.createElement(U,null))}}]),t}(a.Component),I=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Viaje actual donde se muestran los planes de ese viaje, buscando y anadiendo planes"),r.a.createElement(E.b,{to:"/newplan"},r.a.createElement("button",null,"New Plan")))}}]),t}(a.Component),x=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Muestra todos los planes filtrados por viaje"))}}]),t}(a.Component),k=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bigbox"},r.a.createElement(I,null),r.a.createElement(x,null))}}]),t}(a.Component),S=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Muestra un plan"))}}]),t}(a.Component),N=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null," aqui va el chat a los comentarios"))}}]),t}(a.Component),P=(n(67),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bigbox"},r.a.createElement("div",{className:"center"},r.a.createElement(S,null)),r.a.createElement("div",{className:"center"},r.a.createElement(N,null)))}}]),t}(a.Component)),T=(a.Component,function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(f.a)({},a,r))},n.state={username:"",password:"",loggedInUser:null},n.service=new d,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state.username,a=this.state.password;this.service.login(n,a).then(function(e){console.log(e,"saca usuario"),t.setState({username:n,password:a,loggedInUser:!0},function(){return t.props.setUser(e)})}).catch(function(e){t.setState({username:"",password:""})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component)),D=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).logoutUser=function(){n.service.logout().then(function(){n.setState({loggedInUser:null}),n.props.setUser(null),console.log("quita usuario")})},n.state={username:"",password:"",error:"",loggedInUser:null},n.service=new d,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.loggedInUser),this.props.loggedInUser?r.a.createElement("div",null,r.a.createElement("p",null,"Estas logueado"),r.a.createElement(E.b,{to:"/profile"},r.a.createElement("span",null,"Mi perfil")),r.a.createElement(E.b,{to:"/"},r.a.createElement("button",{onClick:function(){return e.logoutUser()}},"Logout"))):r.a.createElement("div",null,r.a.createElement(T,{loggedInUser:this.props.loggedInUser,setUser:this.props.setUser}))}}]),t}(a.Component),F=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement(b,null))}}]),t}(a.Component),L=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.travel,a=t.name,r=t.city,l=t.country,c=t.description,o=t.imgPath,u=t.author,i=t.plans;console.log(a),n.service.createNewTravel(a,r,l,c,o,u,i).then(function(){console.log(a),n.setState({name:"",city:"",country:"",description:"",imgPath:"",author:"",plans:"",redirect:!0})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState({user:Object(v.a)({},n.state.user,Object(f.a)({},a,r))})},n.state={travel:{name:"",city:"",country:"",description:"",imgPath:"",author:"",plans:"",redirect:!1}},n.service=new j,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(m.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form"},r.a.createElement("label",null,"Travel Name:"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"City:"),r.a.createElement("input",{type:"text",name:"city",value:this.state.city,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Country:"),r.a.createElement("input",{type:"text",name:"country",value:this.state.country,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Description:"),r.a.createElement("input",{type:"text",name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Crear"})))}}]),t}(a.Component),Y=function(e){function t(e){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bigbox"},r.a.createElement(b,null),r.a.createElement(L,{loggedInUser:this.props.loggedInUser}))}}]),t}(a.Component),M=function e(){var t=this;Object(o.a)(this,e),this.getAllPlans=function(){return t.service.get("/all",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.selectedPlans=function(){return t.service.get("/:id/plansoftravel",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.getOnePlan=function(){return t.service.get("/one/:id",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.createNewPlan=function(e,n,a,r,l,c,o,u,i,s,h){return t.service.post("/:id/new",{name:e,city:n,date:a,type:r,description:l,lang:c,genre:o,hour:u,maxYear:i,place:s,comments:h}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.deletePlan=function(){return t.service.delete("/delete/:id",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.editPlan=function(){return t.service.put("/edit/:id",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.service=g.a.create({baseURL:"".concat("https://travelershare.herokuapp.com/api","/plan"),withCredentials:!0}),console.log("".concat("https://travelershare.herokuapp.com/api","/plan")),console.log(this.service)},A=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.plan,a=t.name,r=t.city,l=t.date,c=t.type,o=t.description,u=t.lang,i=t.genre,s=t.hour,h=t.maxYear,m=t.place,p=t.comments;console.log(a),n.service.createNewPlan(a,r,l,c,o,u,i,s,h,m,p).then(function(){console.log(a),n.setState({name:"",city:"",date:"",type:"",description:"",lang:"",genre:"",hour:"",maxYear:"",place:"",comments:"",redirect:!0})}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState({user:Object(v.a)({},n.state.user,Object(f.a)({},a,r))})},n.state={plan:{name:"",city:"",date:"",type:"",description:"",lang:"",genre:"",hour:"",maxYear:"",place:"",comments:"",redirect:!1}},n.service=new M,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(m.a,{to:"/travel"}):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form"},r.a.createElement("label",null,"Travel Name:"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"City:"),r.a.createElement("input",{type:"text",name:"city",value:this.state.city,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Date:"),r.a.createElement("input",{type:"text",name:"date",value:this.state.date,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Type:"),r.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Description:"),r.a.createElement("input",{type:"text",name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Languaje:"),r.a.createElement("input",{type:"text",name:"lang",value:this.state.lang,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Genre:"),r.a.createElement("input",{type:"text",name:"genre",value:this.state.genre,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"hour:"),r.a.createElement("input",{type:"text",name:"hour",value:this.state.hour,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"MaxYear:"),r.a.createElement("input",{type:"text",name:"maxYear",value:this.state.maxYear,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Place:"),r.a.createElement("input",{type:"text",name:"place",value:this.state.place,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"comments:"),r.a.createElement("input",{type:"text",name:"comments",value:this.state.comments,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Crear plan"})))}}]),t}(a.Component),G=function(e){function t(e){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bigbox"},r.a.createElement(I,{loggedInUser:this.props.loggedInUser}),r.a.createElement(A,null))}}]),t}(a.Component),R=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).fetchUser=function(){n.service.loggedin().then(function(e){console.log(e),n.setState({loggedInUser:e})}).catch(function(e){return n.setState({loggedInUser:!1})})},n.setTheUser=function(e){console.log("entra"),n.setState({loggedInUser:e})},n.state={loggedInUser:"null"},n.service=new d,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return console.log(this.state.loggedInUser),this.state.loggedInUser?r.a.createElement("div",null,r.a.createElement(D,{loggedInUser:this.state.loggedInUser,setUser:this.setTheUser}),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",render:function(){return r.a.createElement(F,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(m.b,{exact:!0,path:"/profile",render:function(){return r.a.createElement(O,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(m.b,{exact:!0,path:"/newtravel",render:function(){return r.a.createElement(Y,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(m.b,{exact:!0,path:"/newplan",render:function(){return r.a.createElement(G,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(m.b,{exact:!0,path:"/travel",render:function(){return r.a.createElement(k,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(m.b,{exact:!0,path:"/plan",render:function(){return r.a.createElement(P,{loggedInUser:e.state.loggedInUser})}}))):r.a.createElement("div",null,r.a.createElement(D,{loggedInUser:this.state.loggedInUser,setUser:this.setTheUser}),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",render:function(){return r.a.createElement(w,null)}})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(E.a,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.176a52b3.chunk.js.map